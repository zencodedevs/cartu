"use strict";(self.webpackChunkMssp_WebUI=self.webpackChunkMssp_WebUI||[]).push([[731],{3731:(E,f,r)=>{r.r(f),r.d(f,{TerminalModule:()=>j});var I=r(6379),c=r(4521),t=r(5e3),u=r(9247),x=r(5188),d=r(9808),_=r(7423),T=r(5245),h=r(773);function b(i,a){1&i&&(t.ynx(0),t.TgZ(1,"div",20)(2,"div",21)(3,"div",22),t._uU(4,"Teminal Information"),t.qZA(),t._UZ(5,"div",23),t.TgZ(6,"div",24),t._UZ(7,"mat-icon",25),t.TgZ(8,"div",26),t._uU(9),t.qZA()(),t.TgZ(10,"div",27),t._UZ(11,"mat-icon",25),t.TgZ(12,"div",26),t._uU(13),t.qZA()(),t.TgZ(14,"div",27),t._UZ(15,"mat-icon",25),t.TgZ(16,"div",26),t._uU(17),t.qZA()(),t.TgZ(18,"div",27),t._UZ(19,"mat-icon",25),t.TgZ(20,"div",26),t._uU(21),t.qZA()()()(),t.BQk()),2&i&&(t.xp6(7),t.Q6J("svgIcon","heroicons_outline:library"),t.xp6(2),t.hij("Terminal ID: ","-- Value --",""),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:user-circle"),t.xp6(2),t.hij("Profile: ","-- Value --",""),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:credit-card"),t.xp6(2),t.hij("Description: ","-- Value --",""),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:archive"),t.xp6(2),t.hij("Status: ","-- Value --",""))}const C=function(){return[0,1,2,3,4]};function U(i,a){1&i&&(t.TgZ(0,"div",17)(1,"div",18),t.YNc(2,b,22,8,"ng-container",19),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",t.DdM(1,C)))}function A(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div")(2,"div",4)(3,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).backToTerminalsList()}),t._UZ(4,"mat-icon",6),t.qZA(),t.TgZ(5,"h2",7)(6,"span"),t._uU(7),t.qZA(),t._UZ(8,"terminal-status",8),t.qZA(),t._UZ(9,"terminal-status",9),t.qZA()(),t.TgZ(10,"div",10)(11,"div",11)(12,"span",12),t._uU(13,"Terminal Details"),t.qZA()(),t.TgZ(14,"div")(15,"div",13)(16,"div",14),t._uU(17,"Terminal Id"),t.qZA(),t.TgZ(18,"div",15),t._uU(19),t.qZA()(),t.TgZ(20,"div",13)(21,"div",14),t._uU(22,"Merchant ID"),t.qZA(),t.TgZ(23,"div",15),t._uU(24),t.qZA()(),t.TgZ(25,"div",13)(26,"div",14),t._uU(27,"Profile ID"),t.qZA(),t.TgZ(28,"div",15),t._uU(29),t.qZA()(),t.TgZ(30,"div",13)(31,"div",14),t._uU(32,"Status"),t.qZA(),t.TgZ(33,"div",15),t._uU(34),t.qZA()(),t.TgZ(35,"div",13)(36,"div",14),t._uU(37,"Recver"),t.qZA(),t.TgZ(38,"div",15),t._uU(39),t.qZA()(),t.TgZ(40,"div",13)(41,"div",14),t._uU(42,"Instal Flag"),t.qZA(),t.TgZ(43,"div",15),t._uU(44),t.qZA()(),t.TgZ(45,"div",13)(46,"div",14),t._uU(47,"Description"),t.qZA(),t.TgZ(48,"div",15),t._uU(49),t.qZA()()()(),t.YNc(50,U,3,2,"div",16),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(7),t.hij(" ",e.terminal.terminalid," "),t.xp6(1),t.Q6J("description",e.terminal.status)("status",e.terminal.status),t.xp6(1),t.Q6J("description",e.terminal.status)("status",e.terminal.status),t.xp6(10),t.Oqu(e.terminal.terminalid),t.xp6(5),t.Oqu(e.terminal.gmrchId),t.xp6(5),t.Oqu(e.terminal.gtxnprofId),t.xp6(5),t.Oqu(e.terminal.status),t.xp6(5),t.Oqu(e.terminal.recver),t.xp6(5),t.Oqu(e.terminal.instalmflag),t.xp6(5),t.Oqu(e.terminal.description),t.xp6(1),t.Q6J("ngIf",!1)}}function w(i,a){if(1&i&&(t.ynx(0),t.YNc(1,A,51,13,"ng-container",1),t.BQk()),2&i){const e=t.oxw(),n=t.MAs(5);t.xp6(1),t.Q6J("ngIf",e.terminal)("ngIfElse",n)}}function S(i,a){1&i&&(t.TgZ(0,"div",28),t._UZ(1,"mat-spinner"),t.qZA())}function L(i,a){1&i&&(t.TgZ(0,"div",29),t._UZ(1,"img",30),t.TgZ(2,"div",31),t._uU(3," There is no any data to show! "),t.qZA()())}let F=(()=>{class i{constructor(e,n,l,s){var m,g,p;this._terminalClient=e,this._uiService=n,this._route=l,this._router=s,this._uiService.changeTitle("Terminal Details"),this.terminalsListState=null===(p=null===(g=null===(m=this._router.getCurrentNavigation())||void 0===m?void 0:m.extras)||void 0===g?void 0:g.state)||void 0===p?void 0:p.terminalsListState}ngOnInit(){this.terminalId=Number(this._route.snapshot.paramMap.get("id")),this.getTerminal()}getTerminal(){this.getTerminalBusy=this._terminalClient.getTerminal(this.terminalId).subscribe(e=>{this.terminal=e})}backToTerminalsList(){this._router.navigate(["/terminal"],{state:{terminalsListState:this.terminalsListState}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.z_),t.Y36(x.F),t.Y36(c.gz),t.Y36(c.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["detail-terminal"]],decls:6,vars:2,consts:[[1,"flex","flex-col","min-w-full","min-h-full","p-4","lg:p-8","bg-white","sm:bg-inherit"],[4,"ngIf","ngIfElse"],["terminalDetailLoading",""],["terminalDetailHasNoData",""],[1,"flex","items-center"],["type","button","mat-icon-button","",3,"click"],["svgIcon","mat_solid:west",1,"icon-size-8"],[1,"font-medium","text-3xl","ml-1","mr-3","relative"],["size","md","mode","transparent",1,"block","sm:hidden","absolute","left-0","top-full",3,"description","status"],["size","md","mode","dark",1,"hidden","sm:block",3,"description","status"],[1,"sm:rounded-2xl","overflow-hidden","mt-12","sm:mt-8","sm:bg-white","sm:shadow","sm:border","sm:border-gray-200","sm:py-3","px-3","sm:px-6"],[1,"py-3","sm:py-5"],[1,"font-semibold","text-xl"],[1,"grid","grid-cols-8","py-3","sm:py-2"],[1,"col-span-full","sm:col-span-3"],[1,"col-span-full","sm:col-span-5","mt-1","sm:mt-0","font-semibold"],["class","mx-4 sm:mx-10 my-10 max-w-480",4,"ngIf"],[1,"mx-4","sm:mx-10","my-10","max-w-480"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-y-10","gap-x-14","md:gap-x-22"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","min-h-80","shadow","rounded-2xl","overflow-hidden","bg-card"],[1,"flex","flex-col","p-6"],[1,"mt-4","text-lg","font-medium"],[1,"w-12","h-1","my-6","border-t-2"],[1,"flex","items-center","leading-5","text-md","text-secondary"],[1,"icon-size-5","text-hint",3,"svgIcon"],[1,"ml-1.5"],[1,"flex","items-center","leading-5","text-md","text-secondary","mt-4"],[1,"flex","flex-grow","items-center","justify-center","m-8","p-2","bg-blue-100","rounded-2xl"],[1,"flex","flex-col","flex-grow","items-center","justify-center","m-8","p-2","bg-white","rounded-2xl"],["src","assets/images/illustrations/no-data.svg","alt","No data image",1,"w-40","h-40","max-w-full","max-h-full","object-contain"],[1,"mt-4","text-xl","font-medium","text-secondary"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,w,2,2,"ng-container",1),t.YNc(2,S,2,0,"ng-template",null,2,t.W1O),t.YNc(4,L,4,0,"ng-template",null,3,t.W1O),t.qZA()),2&e){const l=t.MAs(3);t.xp6(1),t.Q6J("ngIf",null==n.getTerminalBusy?null:n.getTerminalBusy.closed)("ngIfElse",l)}},directives:[d.O5,_.lW,T.Hw,d.sg,h.$g],encapsulation:2}),i})();var v=r(3511),o=r(3075),Z=r(6087),y=r(7322),q=r(7531);function D(i,a){1&i&&(t.TgZ(0,"div",31),t._uU(1," Enable "),t.qZA())}function J(i,a){1&i&&(t.TgZ(0,"div",32),t._uU(1," Disable "),t.qZA())}function O(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",14)(2,"div",15),t.YNc(3,D,2,0,"div",16),t.YNc(4,J,2,0,"div",17),t.TgZ(5,"div",18),t._uU(6),t.qZA(),t._UZ(7,"div",19),t.TgZ(8,"div",20),t._UZ(9,"mat-icon",21),t.TgZ(10,"div",22),t._uU(11),t.qZA()(),t.TgZ(12,"div",23),t._UZ(13,"mat-icon",21),t.TgZ(14,"div",22),t._uU(15),t.qZA()(),t.TgZ(16,"div",23),t._UZ(17,"mat-icon",21),t.TgZ(18,"div",22),t._uU(19),t.qZA()()(),t.TgZ(20,"div",24),t._UZ(21,"div",25)(22,"div",26),t.qZA(),t.TgZ(23,"div",27)(24,"button",28),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).goToTerminalDetail(s)}),t.TgZ(25,"span",29)(26,"span"),t._uU(27,"Details"),t.qZA(),t._UZ(28,"mat-icon",30),t.qZA()()()(),t.BQk()}if(2&i){const e=a.$implicit;t.xp6(3),t.Q6J("ngIf","D"!==e.status),t.xp6(1),t.Q6J("ngIf","E"!==e.status),t.xp6(2),t.hij("Terminal: ",e.terminalid,""),t.xp6(3),t.Q6J("svgIcon","mat_outline:account_circle"),t.xp6(2),t.hij("Profile Id: ",e.gtxnprofId,""),t.xp6(2),t.Q6J("svgIcon","mat_solid:public"),t.xp6(2),t.hij("Merchant ID: ",e.gmrchId,""),t.xp6(2),t.Q6J("svgIcon","mat_solid:copyright"),t.xp6(2),t.hij("Recver: ",e.recver,""),t.xp6(9),t.Q6J("svgIcon","heroicons_solid:arrow-sm-right")}}function Q(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",10),t.YNc(3,O,29,10,"ng-container",11),t.qZA()(),t.TgZ(4,"mat-paginator",12,13),t.NdJ("page",function(l){return t.CHM(e),t.oxw(2).pageChanged(l)}),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",null==e.paginatedListOfTerminals?null:e.paginatedListOfTerminals.items),t.xp6(1),t.Q6J("length",e.totalRows)("pageIndex",e.pageIndex)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions)}}function N(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Q,6,5,"ng-container",6),t.BQk()),2&i){const e=t.oxw(),n=t.MAs(11);t.xp6(1),t.Q6J("ngIf",null==e.paginatedListOfTerminals||null==e.paginatedListOfTerminals.items?null:e.paginatedListOfTerminals.items.length)("ngIfElse",n)}}function z(i,a){1&i&&(t.TgZ(0,"div",33),t._UZ(1,"mat-spinner"),t.qZA())}function B(i,a){1&i&&(t.TgZ(0,"div",34),t._UZ(1,"img",35),t.TgZ(2,"div",36),t._uU(3," There is no any data to show! "),t.qZA()())}const M=[{path:"",component:(()=>{class i{constructor(e,n,l){var s,m,g;this._terminalClient=e,this._uiService=n,this._router=l,this.currentTerminalFilter=[],this.pageSizeOptions=v.mC,this.pageSize=v.Je.defaultPageSize,this.totalRows=0,this.pageIndex=0,this.filterForm=new o.cw({search:new o.NI(null)}),this._uiService.changeTitle("Terminals"),this.terminalsListState=null===(g=null===(m=null===(s=this._router.getCurrentNavigation())||void 0===s?void 0:s.extras)||void 0===m?void 0:m.state)||void 0===g?void 0:g.terminalsListState}ngOnInit(){this.terminalsListState&&(this.terminalsListState.currentTerminalFilter&&(this.currentTerminalFilter=this.terminalsListState.currentTerminalFilter),this.terminalsListState.pageIndex&&(this.pageIndex=this.terminalsListState.pageIndex),this.terminalsListState.pageSize&&(this.pageSize=this.terminalsListState.pageSize)),this.getTerminals(),this.getTerminalsFiltrationConfiguration()}getTerminals(){this.getTerminalsBusy=this._terminalClient.getTerminals({pageNumber:this.pageIndex+1,pageSize:this.pageSize,filters:this.currentTerminalFilter}).subscribe(n=>{this.paginatedListOfTerminals=n,this.totalRows=this.paginatedListOfTerminals.totalCount,this.pageIndex=this.paginatedListOfTerminals.pageIndex-1})}getTerminalsFiltrationConfiguration(){this.getTerminalsFiltrationConfigurationBusy=this._terminalClient.getTerminalsFiltrationConfiguration().subscribe(e=>{this.terminalsFiltrationConfiguration=e})}getCurrentTerminalFilters(){let e=[],n={search:this.filterForm.get("search").value};if(n.search){let l=this.terminalsFiltrationConfiguration.data.find(s=>s.column===u.fk.Gtxnprof_id);l.values=[n.search],e.push(l)}return e}goToTerminalDetail(e){this._router.navigate(["/terminal",e.id],{state:{terminalsListState:{currentTerminalFilter:this.currentTerminalFilter,pageIndex:this.pageIndex,pageSize:this.pageSize}}})}pageChanged(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize,this.getTerminals()}search(){this.searchButtonDisabled||(this.pageIndex=0,this.currentTerminalFilter=this.getCurrentTerminalFilters(),this.getTerminals())}get searchButtonDisabled(){return this.filterForm.invalid||this.getTerminalsBusy&&!this.getTerminalsBusy.closed||this.getTerminalsFiltrationConfigurationBusy&&!this.getTerminalsFiltrationConfigurationBusy.closed}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.z_),t.Y36(x.F),t.Y36(c.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["list-terminal"]],viewQuery:function(e,n){if(1&e&&t.Gf(Z.NW,5),2&e){let l;t.iGM(l=t.CRH())&&(n.paginator=l.first)}},decls:12,vars:4,consts:[[1,"flex","flex-col","flex-auto","py-5","px-4","sm:py-6","sm:px-5"],[1,"flex","items-center","justify-center","sm:justify-end",3,"formGroup","ngSubmit"],[1,"fuse-mat-no-subscript","form-field-rounded","form-field-less-padding","w-full","sm:w-72","md:w-90","lg:w-100"],["type","text","matInput","","formControlName","search","placeholder","Search by Profile ID"],["type","submit","mat-icon-button","","matSuffix","",3,"disabled"],["svgIcon","heroicons_solid:search"],[4,"ngIf","ngIfElse"],["mainTableLoading",""],["mainTableHasNoData",""],[1,"flex-grow"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-8","my-8","sm:my-10"],[4,"ngFor","ngForOf"],["showFirstLastButtons","true",1,"custom-paginator","mini-paginator",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],[1,"flex","flex-col","min-h-80","shadow","rounded-2xl","overflow-hidden","bg-card"],[1,"flex","flex-col","flex-grow","p-6"],["class","rounded-2xl text-center bg-green-600 mx-12 py-1 text-white",4,"ngIf"],["class","rounded-2xl text-center bg-orange-400 mx-12 py-1 text-white",4,"ngIf"],[1,"mt-4","text-lg","font-medium"],[1,"w-14","h-0.5","bg-gray-100","mt-4","mb-9"],[1,"flex","items-center","leading-5","text-md","text-secondary"],[1,"icon-size-5","text-hint",3,"svgIcon"],[1,"ml-1.5"],[1,"flex","items-center","leading-5","text-md","text-secondary","mt-4"],[1,"relative","overflow-hidden"],[1,"bg-blue-200","h-0.5"],[1,"bg-blue-600","h-0.5","w-1/4","absolute","top-0","left-7"],[1,"px-6","py-4","text-right","bg-gray-50"],["mat-stroked-button","","type","button",3,"click"],[1,"inline-flex","items-center"],[1,"ml-1.5","icon-size-5",3,"svgIcon"],[1,"rounded-2xl","text-center","bg-green-600","mx-12","py-1","text-white"],[1,"rounded-2xl","text-center","bg-orange-400","mx-12","py-1","text-white"],[1,"flex","flex-grow","items-center","justify-center","m-8","p-2","bg-blue-100","rounded-2xl"],[1,"flex","flex-col","flex-grow","items-center","justify-center","m-8","p-2","bg-white","rounded-2xl"],["src","assets/images/illustrations/no-data.svg","alt","No data image",1,"w-40","h-40","max-w-full","max-h-full","object-contain"],[1,"mt-4","text-xl","font-medium","text-secondary"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"form",1),t.NdJ("ngSubmit",function(){return n.search()}),t.TgZ(3,"mat-form-field",2),t._UZ(4,"input",3),t.TgZ(5,"button",4),t._UZ(6,"mat-icon",5),t.qZA()()()(),t.YNc(7,N,2,2,"ng-container",6),t.YNc(8,z,2,0,"ng-template",null,7,t.W1O),t.YNc(10,B,4,0,"ng-template",null,8,t.W1O),t.qZA()),2&e){const l=t.MAs(9);t.xp6(2),t.Q6J("formGroup",n.filterForm),t.xp6(3),t.Q6J("disabled",n.searchButtonDisabled),t.xp6(2),t.Q6J("ngIf",null==n.getTerminalsBusy?null:n.getTerminalsBusy.closed)("ngIfElse",l)}},directives:[o._Y,o.JL,o.sg,y.KE,q.Nt,o.Fj,o.JJ,o.u,_.lW,y.R9,T.Hw,d.O5,d.sg,Z.NW,h.$g],encapsulation:2}),i})()},{path:":id",component:F}];let Y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[c.Bz.forChild(M)],c.Bz]}),i})(),j=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[Y,I.m]]}),i})()}}]);